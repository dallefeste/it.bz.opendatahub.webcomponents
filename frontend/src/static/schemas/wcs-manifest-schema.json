{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://webcomponents.opendatahub.bz.it/schemas/v1/wcs-manifest",
    "title": "WcsManifest",
	"type": "object",
    "definitions": {
        "entityOrPerson": {
            "type": "object",
            "properties": {
				"name": {
					"type": "string"
				},
				"email": {
					"type": "string"
				},
				"organization": {
					"type": "string"
				},
				"organizationUrl": {
					"type": "string",
					"format": "uri"
				}
			},
			"required": [
				"name",
				"email"
			],
			"additionalProperties": false
		},
		"stringArray": {
            "type": "array",
            "items": {
				"type": "string"
			},
			"uniqueItems": true,
			"minimum": 1,
            "default": []
		},
		"dist": {
			"type": "object",
			"properties": {
				"basePath": {
					"type": "string"
				},
				"files": {
					"$ref": "#/definitions/stringArray"
				}
			},
			"required": [
				"basePath",
				"files"
			],
			"additionalProperties": false
		},
		"configuration": {
			"type": "object",
			"properties": {
				"tagName": {
					"type": "string"
				},
				"options": {
					"type": "array",
					"items": { "$ref": "#/definitions/configurationOption" },
					"uniqueItems": true,
					"minimum": 0,
					"default": []
				}
			},
			"required": [
				"tagName"
			],
			"additionalProperties": false
		},
		"configurationOption": {
			"type": "object",
			"properties": {
				"key": {
					"type": "string"
				},
				"type": {
					"type": "string",
					"enum": [
						"select",
						"multiselect",
						"text",
						"null",
						"textarea",
						"bool",
						"object",
						"number"
					]
				},
				"label": {
					"type": "string"
				},
				"options": {
					"type": "object",
					"properties": {
						"values": {
							"$ref": "#/definitions/stringArray"
						},
						"default": {
						}
					},
					"additionalProperties": false
				}
			},
			"required": [
				"key",
				"type",
				"options"
			],
			"additionalProperties": false
		}
	},
    "properties": {
        "title": {
			"type": "string"
        },
        "description": {
			"type": "string"
		},
        "descriptionAbstract": {
			"type": "string"
		},
        "license": {
			"type": "string"
		},
        "copyrightHolders": {
            "type": "array",
            "minItems": 1,
            "items": {
				"$ref": "#/definitions/entityOrPerson"
			},
            "uniqueItems": true
		},
        "authors": {
			"type": "array",
            "minItems": 1,
			"items": {
				"$ref": "#/definitions/entityOrPerson"
			},
            "uniqueItems": true
		},
        "image": {
			"type": "string"
		},
        "searchTags": {
			"$ref": "#/definitions/stringArray"
		},
        "dist": {
			"$ref": "#/definitions/dist"
		},
        "configuration": {
			"$ref": "#/definitions/configuration"
		}
    },
    "required": [
		"title",
        "description",
        "descriptionAbstract",
        "license",
        "copyrightHolders",
        "authors",
        "image",
        "searchTags",
        "dist",
        "configuration"
    ]
}
